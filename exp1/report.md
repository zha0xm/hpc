# MPI 异步通信小作业 实验报告 

[TODO] 你的姓名 学号

## 任务一

InfiniBand:


| 编号 | 消息长度 | 延迟 (us) | 带宽(MB/s) |
| ---- | -------- | ------ | ------ |
| 1    | 1        | 1.14   | 4.14   |
| 2    | 2        | 1.10   | 8.28   |
| 3    | 4        | 1.09   | 16.84  |
| 4    | 8        | 1.08   | 33.73  |
| 5    | 16       | 1.08   | 66.47  |
| 6    | 32       | 1.13   | 137.99 |
| 7    | 64       | 1.24   | 260.35 |
| 8    | 128      | 1.32   | 505.26 |
| 9    | 256      | 1.89   | 985.43 |
| 10   | 512      | 1.96   | 1950.41|
| 11   | 1024     | 2.22   | 3218.32|
| 12   | 2048     | 2.69   | 5444.87|
| 13   | 4096     | 3.62   | 6451.63|
| 14   | 8192     | 5.14   | 9461.38|
| 15   | 16384    | 7.03   | 10381.38|
| 16   | 32768    | 9.65   | 10999.69|
| 17   | 65536    | 15.03  | 11638.72|
| 18   | 131072   | 24.71  | 11858.43|
| 19   | 262144   | 32.22  | 11956.54|
| 20   | 524288   | 55.97  | 12010.94|
| 21   | 1048576  | 99.99  | 12040.72|
| 22   | 2097152  | 187.42 | 12053.04|
| 23   | 4194304  | 361.22 | 12060.30|

以太网：


| 编号 | 消息长度 | 延迟 (us) | 带宽(MB/s) |
| ---- | -------- | ------ | ------ |
| 1    | 1        | 45.22  | 0.29   |
| 2    | 2        | 45.25  | 0.60   |
| 3    | 4        | 45.10  | 1.21   |
| 4    | 8        | 45.25  | 2.35   |
| 5    | 16       | 45.33  | 5.11   |
| 6    | 32       | 45.54  | 9.27   |
| 7    | 64       | 46.54  | 16.63  |
| 8    | 128      | 48.16  | 33.41  |
| 9    | 256      | 52.83  | 55.57  |
| 10   | 512      | 58.57  | 80.88  |
| 11   | 1024     | 70.40  | 95.77  |
| 12   | 2048     | 87.78  | 105.21 |
| 13   | 4096     | 109.68 | 110.98 |
| 14   | 8192     | 184.65 | 114.22 |
| 15   | 16384    | 214.26 | 116.06 |
| 16   | 32768    | 363.08 | 116.87 |
| 17   | 65536    | 635.33 | 117.11 |
| 18   | 131072   | 1197.98| 117.38 |
| 19   | 262144   | 2413.62| 117.50 |
| 20   | 524288   | 4645.42| 117.58 |
| 21   | 1048576  | 9088.90| 117.61 |


- 请描述当消息长度增加时，带宽和延迟分别呈现出什么样的趋势？

[TODO] 不超过 50 字，言之有理即可

- 该趋势在两种网络下有何不同？

[TODO] 不超过 50 字，言之有理即可

- 为什么会有这样的趋势？

[TODO] 不超过 50 字，言之有理即可

- 对比InfiniBand和以太网络下的带宽和延迟，它们之间的差距是多少？

[TODO] 不超过 50 字，言之有理即可

## 任务二

| 编号 | 消息长度  | 计算量 | mpi_sync 总耗时 | mpi_async  总耗时 |
| ---- | --------- | ------ | --------------- | ----------------- |
| 1    | 100000000 | 10     | 936.258         | 837.533           |
| 2    | 100000000 | 20     | 1037.6          | 837.701           |
| 3    | 100000000 | 40     | 1099.51         | 836.563           |
| 4    | 100000000 | 80     | 1501.17         | 839.41            |
| 5    | 100000000 | 160    | 2302.41         | 1600.3            |

- 通信时间和计算时间满足什么关系时，非阻塞通信程序能完美掩盖通信时间？

[TODO] 不超过 50 字，言之有理即可

- 简述两份代码的不同之处。

[TODO] 不超过 50 字，言之有理即可

